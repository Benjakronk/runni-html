<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Kurs Progress</title>
    <!-- <link rel="stylesheet" href="main.css"> -->
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .admin-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .admin-header h1 {
            margin: 0;
            border: none;
            color: white;
        }

        .section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .section h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .progress-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .module-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .module-section h3 {
            margin-top: 0;
            color: #2c3e50;
        }

        .lesson-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .lesson-name {
            flex-grow: 1;
            font-weight: 500;
        }

        .status-toggle {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            min-width: 80px;
        }

        .status-toggle.completed {
            background: #27ae60;
        }

        .status-toggle:hover {
            opacity: 0.8;
        }

        .bulk-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .bulk-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
        }

        .bulk-btn.danger {
            background: #e74c3c;
        }

        .bulk-btn.success {
            background: #27ae60;
        }

        .bulk-btn:hover {
            opacity: 0.9;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .warning-box {
            background: rgba(243, 156, 18, 0.1);
            border: 2px solid #f39c12;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .warning-box h3 {
            color: #f39c12;
            margin-top: 0;
        }

        .projects-section {
            margin-top: 20px;
        }

        .project-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #9b59b6;
        }
    </style>
</head>
<body>
    <a href="index.html" class="home-button">
        <span>üè†</span>
        <span class="home-button-text">Tilbake til hjem</span>
    </a>

    <div class="admin-container">
        <div class="admin-header">
            <h1>üîß Admin Panel</h1>
            <p>Administrer kurs-progress og localStorage data</p>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è Viktig informasjon</h3>
            <p>Dette panelet lar deg endre alle data som lagres i nettleseren. Bruk det forsiktig - endringer kan ikke angres uten √• laste siden p√• nytt.</p>
        </div>

        <!-- Statistikk oversikt -->
        <div class="section">
            <h2>üìä Oversikt</h2>
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-number" id="totalLessons">12</div>
                    <div class="stat-label">Totale leksjoner</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedLessons">0</div>
                    <div class="stat-label">Fullf√∏rte leksjoner</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="progressPercent">0%</div>
                    <div class="stat-label">Fremgang</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="projectsCompleted">0</div>
                    <div class="stat-label">Fullf√∏rte prosjekter</div>
                </div>
            </div>
        </div>

        <!-- Bulk handlinger -->
        <div class="section">
            <h2>‚ö° Hurtighandlinger</h2>
            <div class="bulk-actions">
                <button class="bulk-btn success" onclick="setAllLessons(true)">‚úÖ Fullf√∏r alle leksjoner</button>
                <button class="bulk-btn danger" onclick="setAllLessons(false)">‚ùå Nullstill alle leksjoner</button>
                <button class="bulk-btn" onclick="setModule(1, true)">‚úÖ Fullf√∏r Modul 1</button>
                <button class="bulk-btn" onclick="setModule(2, true)">‚úÖ Fullf√∏r Modul 2</button>
                <button class="bulk-btn" onclick="setModule(3, true)">‚úÖ Fullf√∏r Modul 3</button>
                <button class="bulk-btn danger" onclick="resetAllData()">üóëÔ∏è Slett all data</button>
            </div>
        </div>

        <!-- Detaljert leksjonskontroll -->
        <div class="section">
            <h2>üìö Leksjonskontroll</h2>
            <div class="progress-grid">
                <!-- Modul 1 -->
                <div class="module-section">
                    <h3>üìñ Modul 1: HTML</h3>
                    <div class="lesson-item">
                        <span class="lesson-name">Grunnleggende HTML-struktur</span>
                        <button class="status-toggle" onclick="toggleLesson('modul1_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Bilder og multimedia</span>
                        <button class="status-toggle" onclick="toggleLesson('modul1_bilder_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Flersidig nettsted og navigasjon</span>
                        <button class="status-toggle" onclick="toggleLesson('modul1_videre_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Tabeller og avanserte skjemaer</span>
                        <button class="status-toggle" onclick="toggleLesson('modul1_tabeller_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                </div>

                <!-- Modul 2 -->
                <div class="module-section">
                    <h3>üé® Modul 2: CSS</h3>
                    <div class="lesson-item">
                        <span class="lesson-name">CSS Introduksjon og syntaks</span>
                        <button class="status-toggle" onclick="toggleLesson('modul2_css_intro_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Selektorer og farger</span>
                        <button class="status-toggle" onclick="toggleLesson('modul2_selektorer_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Box Model og layout</span>
                        <button class="status-toggle" onclick="toggleLesson('modul2_layout_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Responsive design</span>
                        <button class="status-toggle" onclick="toggleLesson('modul2_responsive_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                </div>

                <!-- Modul 3 -->
                <div class="module-section">
                    <h3>‚ö° Modul 3: JavaScript</h3>
                    <div class="lesson-item">
                        <span class="lesson-name">JavaScript grunnleggende</span>
                        <button class="status-toggle" onclick="toggleLesson('modul3_js_intro_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">DOM-manipulering</span>
                        <button class="status-toggle" onclick="toggleLesson('modul3_dom_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Events og interaksjon</span>
                        <button class="status-toggle" onclick="toggleLesson('modul3_events_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                    <div class="lesson-item">
                        <span class="lesson-name">Interaktive prosjekter</span>
                        <button class="status-toggle" onclick="toggleLesson('modul3_projects_completed', this)">Ikke fullf√∏rt</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Prosjekter -->
        <div class="section projects-section">
            <h2>üöÄ Ekstra Prosjekter</h2>
            <div class="project-item">
                <span class="lesson-name">Personlig Visittkort</span>
                <button class="status-toggle" onclick="toggleLesson('extraProject1_completed', this)">Ikke fullf√∏rt</button>
            </div>
            <div class="project-item">
                <span class="lesson-name">Min Mini-Blog</span>
                <button class="status-toggle" onclick="toggleLesson('extraProject2_completed', this)">Ikke fullf√∏rt</button>
            </div>
            <div class="project-item">
                <span class="lesson-name">Dr√∏mmereise-Planlegger</span>
                <button class="status-toggle" onclick="toggleLesson('extraProject3_completed', this)">Ikke fullf√∏rt</button>
            </div>
        </div>
    </div>

    <script>
        // Alle leksjons-n√∏kler
        const allLessons = [
            'modul1_completed',
            'modul1_bilder_completed',
            'modul1_videre_completed', 
            'modul1_tabeller_completed',
            'modul2_css_intro_completed',
            'modul2_selektorer_completed',
            'modul2_layout_completed',
            'modul2_responsive_completed',
            'modul3_js_intro_completed',
            'modul3_dom_completed',
            'modul3_events_completed',
            'modul3_projects_completed'
        ];

        const projectKeys = [
            'extraProject1_completed',
            'extraProject2_completed', 
            'extraProject3_completed'
        ];

        const moduleMap = {
            1: [
                'modul1_completed',
                'modul1_bilder_completed',
                'modul1_videre_completed',
                'modul1_tabeller_completed'
            ],
            2: [
                'modul2_css_intro_completed',
                'modul2_selektorer_completed', 
                'modul2_layout_completed',
                'modul2_responsive_completed'
            ],
            3: [
                'modul3_js_intro_completed',
                'modul3_dom_completed',
                'modul3_events_completed',
                'modul3_projects_completed'
            ]
        };

        // Toggle en enkelt leksjon
        function toggleLesson(lessonKey, buttonElement) {
            const currentValue = localStorage.getItem(lessonKey) === 'true';
            const newValue = !currentValue;
            
            localStorage.setItem(lessonKey, newValue.toString());
            updateButtonState(buttonElement, newValue);
            updateStats();
        }

        // Oppdater knapp tilstand
        function updateButtonState(button, isCompleted) {
            if (isCompleted) {
                button.textContent = 'Fullf√∏rt';
                button.classList.add('completed');
            } else {
                button.textContent = 'Ikke fullf√∏rt';
                button.classList.remove('completed');
            }
        }

        // Sett alle leksjoner til en verdi
        function setAllLessons(completed) {
            allLessons.forEach(lesson => {
                localStorage.setItem(lesson, completed.toString());
            });
            
            // Oppdater alle knapper
            document.querySelectorAll('.status-toggle').forEach(button => {
                updateButtonState(button, completed);
            });
            
            updateStats();
            
            if (completed) {
                alert('Alle leksjoner er n√• markert som fullf√∏rt!');
            } else {
                alert('Alle leksjoner er n√• nullstilt!');
            }
        }

        // Sett en hel modul
        function setModule(moduleNumber, completed) {
            const lessons = moduleMap[moduleNumber];
            if (!lessons) return;
            
            lessons.forEach(lesson => {
                localStorage.setItem(lesson, completed.toString());
            });
            
            // Oppdater relevante knapper
            lessons.forEach(lesson => {
                const button = document.querySelector(`[onclick*="${lesson}"]`);
                if (button) {
                    updateButtonState(button, completed);
                }
            });
            
            updateStats();
            alert(`Modul ${moduleNumber} er ${completed ? 'fullf√∏rt' : 'nullstilt'}!`);
        }

        // Slett all data
        function resetAllData() {
            if (!confirm('Er du sikker p√• at du vil slette ALL lagret data? Dette kan ikke angres!')) {
                return;
            }
            
            // Slett alle leksjons-relaterte n√∏kler
            allLessons.forEach(lesson => localStorage.removeItem(lesson));
            projectKeys.forEach(project => localStorage.removeItem(project));
            
            // Slett andre relaterte n√∏kler
            localStorage.removeItem('selectedExtraProject');
            
            // Nullstill alle knapper
            document.querySelectorAll('.status-toggle').forEach(button => {
                updateButtonState(button, false);
            });
            
            updateStats();
            alert('All data er slettet!');
        }

        // Oppdater statistikk
        function updateStats() {
            const completed = allLessons.filter(lesson => 
                localStorage.getItem(lesson) === 'true'
            ).length;
            
            const projectsCompleted = projectKeys.filter(project =>
                localStorage.getItem(project) === 'true' 
            ).length;
            
            const percentage = Math.round((completed / allLessons.length) * 100);
            
            document.getElementById('completedLessons').textContent = completed;
            document.getElementById('progressPercent').textContent = percentage + '%';
            document.getElementById('projectsCompleted').textContent = projectsCompleted;
        }

        // Initialiser siden
        function initializeAdmin() {
            // Last inn current status for alle leksjoner
            allLessons.forEach(lesson => {
                const button = document.querySelector(`[onclick*="${lesson}"]`);
                if (button) {
                    const isCompleted = localStorage.getItem(lesson) === 'true';
                    updateButtonState(button, isCompleted);
                }
            });
            
            // Last inn prosjekt-status
            projectKeys.forEach(project => {
                const button = document.querySelector(`[onclick*="${project}"]`);
                if (button) {
                    const isCompleted = localStorage.getItem(project) === 'true';
                    updateButtonState(button, isCompleted);
                }
            });
            
            updateStats();
        }

        // Start n√•r siden er lastet
        window.onload = initializeAdmin;
    </script>
</body>
</html>